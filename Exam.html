<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css" type="text/css"/>
        <script type="text/javascript">
           
           function deleteAllItems(){
                debugger
                document.getElementsByTagName("tbody")[0].remove()
            }

            function delSelectedItem(x){
                debugger
                x.parentNode.parentNode.remove()
            }

            function chgAmount(x){
                debugger

                var newAmount = x.value;
                var tr = x.parentNode.parentNode.parentNode;
                var subTotalVal =  tr.getElementsByClassName("ItemSubTotal")[0].innerText;
                tr.getElementsByClassName("ItemSubTotal")[0].innerText = newAmount * subTotalVal;
            }

            function ApplyDiscount(){
                debugger

                var discountPart = document.getElementById("SubTotals")

                var newDiv = document.createElement("div")
                newDiv.setAttribute("class","totals" )
                discountPart.append(newDiv)

                var newSpan1 = document.createElement("span")
                newDiv.append(newSpan1)

                var span1Content = document.createTextNode("Discount:")
                newSpan1.append(span1Content)

                var newSpan2 = document.createElement("span")
                newDiv.append(newSpan2)

                var span2Content = document.getElementById("txtdiscount").value
                newSpan2.append(span2Content)

                var amount = document.getElementById("subtotal").innerText;
                var newTotalAmount = amount - (amount*span2Content/100)
                document.getElementById("total").innerText = newTotalAmount

            }
        </script>
      
    </head>
    <body>
<div class="maindiv">
    <div class="shopping-cart">
<table class="table-responsive table">
    <thead>
<tr>
    <th class="text-align">
        Product Name
    </th>
    <th class="text-align">
        Quantity
    </th>
    <th class="text-align">
        Unit Price
    </th>
    <th class="text-align">
        Subtotal
    </th>
    <th>
        <button  id="clearAll" class="btn btndanger" onclick="deleteAllItems()" >Clear Cart</button>
    </th>

</tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <div class="product-item">
                    <a class="product-thumb" href="#"><img src="000000.png" alt="Product"></a>
                    <div class="product-info">
                        <h4 class="product-title"><a href="#">Unionbay Park</a></h4><span>Size: 10.5</span><span>Color: Dark Blue</span>
                    </div>
                </div>
            </td>
            <td class="text-align">
                <div class="count-input">
                    <input type="text" class="FormCountrol" value="1" style="text-align: center;" onblur="chgAmount(this)" />
                </div>
            </td>
            <td class="text-align ItemUnitPrice">
                20
            </td>
            <td class="text-align ItemSubTotal">
                20
            </td>
            <td class="text-align">
                <img src="trash-fill.svg" class="trashIcon" onclick="delSelectedItem(this)"   />
            </td>
        </tr>
        <tr>
            <td>
                <div class="product-item">
                    <a class="product-thumb" href="#"><img src="000002.png" alt="Product"></a>
                    <div class="product-info">
                        <h4 class="product-title"><a href="#">	
                            Cole Haan Crossbody</a></h4><span>Size: -</span><span>Color: Turquoise</span>
                    </div>
                </div>
            </td>
            <td class="text-align">
                <div class="count-input">
                    <input type="text" class="FormCountrol" value="1"  style="text-align: center;" onblur="chgAmount(this)"/>
                </div>
            </td>
            <td class="text-align ItemUnitPrice">
                20
            </td>
            <td class="text-align ItemSubTotal">
                20
            </td>
            <td class="text-align">
                <img src="trash-fill.svg" class="trashIcon"  onclick="delSelectedItem(this)" />
            </td>
        </tr>
        <tr>
            <td>
                <div class="product-item">
                    <a class="product-thumb" href="#"><img src="000001.png" alt="Product"></a>
                    <div class="product-info">
                        <h4 class="product-title"><a href="#">	
                            Daily Fabric Cap</a></h4><span>Size: XL</span><span>Color: Black</span>
                    </div>
                </div>
            </td>
            <td class="text-align">
                <div class="count-input">
                    <input type="text" class="FormCountrol"  value="2" style="text-align: center;" onblur="chgAmount(this)"/>
                </div>
            </td>
            <td class="text-align ItemUnitPrice">
                30
            </td>
            <td class="text-align ItemSubTotal">
                60
            </td>
            <td class="text-align">
                <img src="trash-fill.svg" class="trashIcon" onclick="delSelectedItem(this)"  />
            </td>
        </tr>
    </tbody>
</table>
</div>
<div class="shopping-cart-footer">
    <div class="column">
        <div style="margin-left: 20px;">
        <input type="text" id="txtdiscount" class="FormCountrol" style="display: inline-block;width: 250px;" />
        <input type="button" class="btn ButtonSubmit" id="ApplyCoupon" value="Apply Coupon" style="display: inline-block;"  onclick="ApplyDiscount()" />
    </div>
    </div>
    <div class="column">
        <div id="SubTotals">
        <div class="totals">
        <span>Subtotal: </span>
        <span id="subtotal">100</span>
    </div>
   <!-- <div class="totals">
        <span>Discount: </span>
        <span>10%</span>
    </div>-->
    
</div>
    <div class="totals">
        <h4>
        <span>Amount: </span>
        <span id="total">100</span>
    </h4>
    </div>
    </div>

</div>
</div>
    </body>
</html>